<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Citizen.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">participationSystem0</a> &gt; <a href="index.source.html" class="el_package">hello.domain</a> &gt; <span class="el_source">Citizen.java</span></div><h1>Citizen.java</h1><pre class="source lang-java linenums">package hello.domain;

import org.apache.commons.codec.digest.DigestUtils;
import org.hibernate.validator.constraints.Email;

import javax.persistence.*;
import java.util.Date;
import java.util.Set;

/**
 * Clase del modelo Citizen
 */

@Entity
@Table(name = &quot;USUARIOS&quot;)
public class Citizen {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id; // JPA
    private String nombre;
    private String apellidos;

    @Email(message=&quot;*Introduzca un email v√°lido&quot;)
    private String email;
    private Date fecha_nacimiento;
    private String direccion_postal;
    private String nacionalidad;
    private String numero_identificativo; // Clave natural
    private String contrasena;
    @Transient
    private String contrasena_NC;
    @OneToMany(mappedBy=&quot;usuario&quot;,cascade = CascadeType.ALL)
    private Set&lt;Comentario&gt; comentarios;
    @OneToMany(mappedBy=&quot;usuario&quot;,cascade = CascadeType.ALL)
    private Set&lt;Sugerencia&gt; sugerenciasQueHace;
    @ManyToMany(mappedBy=&quot;usuario&quot;,fetch = FetchType.EAGER)
    private Set&lt;Sugerencia&gt; sugerenciasQueVota;
    private boolean isAdmin;
    
    
    
   /*
    @OneToMany
    List&lt;Sugerencia&gt; sugerencias; //ANa set y get  de esto
*/

   
<span class="fc" id="L48">	public Citizen() {</span>
<span class="fc" id="L49">    }</span>

    public Citizen(String nombre, String apellidos, String email, Date fecha_nacimiento, String direccion_postal, String nacionalidad,
                   String numero_identificativo) {
<span class="nc" id="L53">        super();</span>
<span class="nc" id="L54">        this.nombre = nombre;</span>
<span class="nc" id="L55">        this.apellidos = apellidos;</span>
<span class="nc" id="L56">        this.email = email;</span>
<span class="nc" id="L57">        this.fecha_nacimiento = fecha_nacimiento;</span>
<span class="nc" id="L58">        this.direccion_postal = direccion_postal;</span>
<span class="nc" id="L59">        this.nacionalidad = nacionalidad;</span>
<span class="nc" id="L60">        this.numero_identificativo = numero_identificativo;</span>
<span class="nc" id="L61">    }</span>

    public Citizen(String nombre, String apellidos, String email, Date fecha_nacimiento, String direccion_postal,
                   String nacionalidad, String numero_identificativo, String contrasena) {
<span class="nc" id="L65">        this(nombre, apellidos, email, fecha_nacimiento, direccion_postal, nacionalidad, numero_identificativo);</span>
<span class="nc" id="L66">        this.contrasena = DigestUtils.sha512Hex(contrasena);</span>
<span class="nc" id="L67">        this.contrasena_NC = contrasena;</span>
<span class="nc" id="L68">    }</span>

<span class="nc" id="L70">    public Citizen(String nombre, String apellidos, String email, Date fecha_nacimiento, String direccion_postal, String nacionalidad, String numero_identificativo, String contrasena, boolean isAdmin) {</span>
<span class="nc" id="L71">        this.nombre = nombre;</span>
<span class="nc" id="L72">        this.apellidos = apellidos;</span>
<span class="nc" id="L73">        this.email = email;</span>
<span class="nc" id="L74">        this.fecha_nacimiento = fecha_nacimiento;</span>
<span class="nc" id="L75">        this.direccion_postal = direccion_postal;</span>
<span class="nc" id="L76">        this.nacionalidad = nacionalidad;</span>
<span class="nc" id="L77">        this.numero_identificativo = numero_identificativo;</span>
<span class="nc" id="L78">        this.contrasena = DigestUtils.sha512Hex(contrasena);</span>
<span class="nc" id="L79">        this.contrasena_NC = contrasena;</span>
<span class="nc" id="L80">        this.isAdmin = isAdmin;</span>

<span class="nc" id="L82">    }</span>

    public boolean isAdmin() {
<span class="nc" id="L85">        return isAdmin;</span>
    }

    public void setAdmin(boolean admin) {
<span class="nc" id="L89">        isAdmin = admin;</span>
<span class="nc" id="L90">    }</span>

    public void setNombre(String name) {
<span class="nc" id="L93">        this.nombre = name;</span>
<span class="nc" id="L94">    }</span>

    public void setApellidos(String surname) {
<span class="nc" id="L97">        this.apellidos = surname;</span>
<span class="nc" id="L98">    }</span>

    public void setEmail(String email) {
<span class="nc" id="L101">        this.email = email;</span>
<span class="nc" id="L102">    }</span>

    public void setFechaNacimiento(Date birthdate) {
<span class="nc" id="L105">        this.fecha_nacimiento = birthdate;</span>
<span class="nc" id="L106">    }</span>

    public void setDireccionPostal(String address) {
<span class="nc" id="L109">        this.direccion_postal = address;</span>
<span class="nc" id="L110">    }</span>

    public void setNacionalidad(String nationality) {
<span class="nc" id="L113">        this.nacionalidad = nationality;</span>
<span class="nc" id="L114">    }</span>

    public void setNumeroIdentificativo(String nif) {
<span class="nc" id="L117">        this.numero_identificativo = nif;</span>
<span class="nc" id="L118">    }</span>


    public Long getId() {
<span class="nc" id="L122">        return id;</span>
    }

    public String getNombre() {
<span class="nc" id="L126">        return nombre;</span>
    }

    public String getApellidos() {
<span class="nc" id="L130">        return apellidos;</span>
    }

    public String getEmail() {
<span class="nc" id="L134">        return email;</span>
    }

    public Date getFechaNacimiento() {
<span class="nc" id="L138">        return fecha_nacimiento;</span>
    }

    public String getDireccionPostal() {
<span class="nc" id="L142">        return direccion_postal;</span>
    }

    public String getNacionalidad() {
<span class="nc" id="L146">        return nacionalidad;</span>
    }

    public String getNumeroIdentificativo() {
<span class="nc" id="L150">        return numero_identificativo;</span>
    }

    public String getContrasena() {
<span class="nc" id="L154">        return contrasena;</span>
    }

    public String getContrasenaNC() {
<span class="nc" id="L158">        return contrasena_NC;</span>
    }

    public void setContrasena(String password) {
<span class="nc" id="L162">        this.contrasena = DigestUtils.sha512Hex(password);</span>
<span class="nc" id="L163">        this.contrasena_NC = password;</span>
<span class="nc" id="L164">    }</span>

    public Set&lt;Comentario&gt; getComentarios() {
<span class="nc" id="L167">		return comentarios;</span>
	}

	public Set&lt;Sugerencia&gt; getSugerenciasQueHace() {
<span class="nc" id="L171">		return sugerenciasQueHace;</span>
	}
	
	public Set&lt;Sugerencia&gt; getSugerenciasQueVota() {
<span class="nc" id="L175">		return sugerenciasQueVota;</span>
	}
	
	public void addSugerenciaHaVotado(Sugerencia sug){
<span class="nc" id="L179">		sugerenciasQueVota.add(sug);</span>
<span class="nc" id="L180">	}</span>

	public boolean haEscrito(Sugerencia sugerencia){
<span class="nc" id="L183">		return sugerenciasQueHace.contains(sugerencia);</span>
	}
	
	public boolean haVotado(Sugerencia sugerencia){
<span class="nc" id="L187">		return sugerenciasQueVota.contains(sugerencia);</span>
	}

    @Override
    public boolean equals(Object o) {
<span class="nc bnc" id="L192" title="All 2 branches missed.">        if (this == o) return true;</span>
<span class="nc bnc" id="L193" title="All 4 branches missed.">        if (o == null || getClass() != o.getClass()) return false;</span>

<span class="nc" id="L195">        Citizen citizen = (Citizen) o;</span>

<span class="nc bnc" id="L197" title="All 4 branches missed.">        return numero_identificativo != null ? numero_identificativo.equals(citizen.numero_identificativo) : citizen.numero_identificativo == null;</span>
    }

    @Override
    public int hashCode() {
<span class="nc bnc" id="L202" title="All 2 branches missed.">        return numero_identificativo != null ? numero_identificativo.hashCode() : 0;</span>
    }

    @Override
    public String toString() {
<span class="nc" id="L207">        return &quot;Citizen{&quot; + &quot;id=&quot; + id + &quot;, name='&quot; + nombre + '\'' + &quot;, surname='&quot; + apellidos + '\'' + &quot;, email='&quot; + email</span>
                + '\'' + &quot;, birthdate=&quot; + fecha_nacimiento + &quot;, address='&quot; + direccion_postal + '\'' + &quot;, nationality='&quot; + nacionalidad
                + '\'' + &quot;, nif='&quot; + numero_identificativo + '\'' + &quot;, password='&quot; + contrasena + '\'' + '}';
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>